
<section
  class="glass-card-subtle p-4 cursor-pointer transition-all hover:shadow-md"
  [class.border-primary-500]="isActivated"
  [class.shadow-glow]="isActivated"
  [class.bg-primary-500]="isActivated"
>
<div class="flex items-start justify-between gap-3">
  <div class="flex-1 min-w-0">
    <ng-container *ngIf="isForUser()">
      <h3 class="font-semibold text-[var(--text-primary)] truncate">
        {{ chat?.application?.vacancy?.title }}
      </h3>
      <p class="text-sm text-[var(--text-secondary)] truncate">
        {{ company?.name }}
      </p>
      <p class="text-xs text-[var(--text-muted)] mt-1">
        {{ chat?.application?.vacancy?.employmentType }}
      </p>
    </ng-container>
    <ng-container *ngIf="isForCompany()">
      <h3 class="font-semibold text-[var(--text-primary)]">
        {{ user?.firstName }} {{ user?.lastName }}
      </h3>
      <p class="text-sm text-[var(--text-secondary)] truncate">
        {{ chat?.application?.vacancy?.title }}
      </p>
    </ng-container>
  </div>
  <div class="flex flex-col items-end gap-2">
    <span
      class="px-2 py-1 rounded-full text-xs font-medium"
      [ngClass]="{
        'bg-warning-500/20 text-warning-600': chat?.application?.status === 'Unread',
        'bg-success-500/20 text-success-600': chat?.application?.status === 'Accepted',
        'bg-error-500/20 text-error-600': chat?.application?.status === 'Rejected'
      }"
    >
      {{ getStatusText(chat?.application?.status) }}
    </span>
    <span class="text-xs text-[var(--text-muted)]">
      {{ formatDate(chat?.lastMessageAt) }}
    </span>
  </div>
</div>
</section>
